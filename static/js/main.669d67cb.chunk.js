(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{36:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var o=n(8),i=n(6),r=n.n(i),a=n(20),s=n.n(a),c=(n(36),n(10)),u=n(21),l=n(22),d=n(11),p=n.n(d),f=n(13),g=(n(49),n(9)),m=n(17),h=n(1),y=n(16),O=n(29),j=n(30),b={onSetup:function(){var e=this.getSelected().filter((function(e){return"Polygon"===e.type||"MultiPolygon"===e.type})).map((function(e){return e.toGeoJSON()}));if(e.length<1)throw new Error("Please select a feature/features (Polygon or MultiPolygon) to split!");return{main:e}}};b.toDisplayFeatures=function(e,t,n){var o=this;n(t),this.changeMode("passing_mode_line_string",(function(t){var n=[];e.main.forEach((function(e){if(Object(m.a)(e,t))throw new Error("Line must be outside of Polygon");var i=function(e,t,n){var o,i,r,a,s,c,u="kilometers",l=.001,d=[],p=[],f=null;if("Polygon"!=e.type&&"MultiPolygon"!=e.type||"LineString"!=t.type)return f;"undefined"===typeof n&&(n="");if(0==Object(g.a)(e,t).features.length)return f;if(Object(m.a)(t,e))return f;for(p[0]=Object(y.a)(t,l,{units:u}),p[1]=Object(y.a)(t,-l,{units:u}),o=0;o<=1;o++){for(r=o,(o+1)%2,d=[],i=0;i<t.coordinates.length;i++)d.push(t.coordinates[i]);for(i=p[r].geometry.coordinates.length-1;i>=0;i--)d.push(p[r].geometry.coordinates[i]);d.push(t.coordinates[0]),a=Object(h.f)(d),s=Object(O.a)(a),c=Object(j.a)(e,s)}return c}(e.geometry,t.geometry,"piece-");i.id=e.id,o._ctx.api.add(i),n.push(i)})),o.fireUpdate(n)}))},b.fireUpdate=function(e){this.map.fire(events.UPDATE,{action:"SplitPolygon",features:e})};var v=b;var M,T,w,z=n(28),I=(n(50),function(){function e(t){Object(u.a)(this,e);var n=this;n.draw=t.draw,n.buttons=t.buttons||[],n.onAddOrig=t.draw.onAdd,n.onRemoveOrig=t.draw.onRemove}return Object(l.a)(e,[{key:"onAdd",value:function(e){var t=this;return t.map=e,t.elContainer=t.onAddOrig(e),t.buttons.forEach((function(e){t.addButton(e)})),t.elContainer}},{key:"onRemove",value:function(e){var t=this;t.buttons.forEach((function(e){t.removeButton(e)})),t.onRemoveOrig(e)}},{key:"addButton",value:function(e){var t=document.createElement("button");t.className="mapbox-gl-draw_ctrl-draw-btn",e.classes instanceof Array&&e.classes.forEach((function(e){t.classList.add(e)})),t.addEventListener(e.on,e.action),this.elContainer.appendChild(t),e.elButton=t}},{key:"removeButton",value:function(e){e.elButton.removeEventListener(e.on,e.action),e.elButton.remove()}}]),e}());var D=function(){"unavailable"===p.a.getRTLTextPluginStatus()&&p.a.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",(function(e){e&&console.error(e)}),!0);var e=Object(i.useRef)(null);Object(i.useEffect)((function(){M=new p.a.Map({container:e.current||"",style:"https://map.ir/vector/styles/main/mapir-xyz-light-style.json",center:[51.3857,35.6102],zoom:7.78,pitch:0,interactive:!0,hash:!0,attributionControl:!0,customAttribution:"\xa9 Map \xa9 Openstreetmap",transformRequest:function(e){return{url:e,headers:{"x-api-key":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A","Mapir-SDK":"reactjs"}}}}),T=new f.a({modes:Object(c.a)(Object(c.a)({},f.a.modes),{},{splitPolygonMode:v,passing_mode_line_string:Object(z.a)(f.a.modes.draw_line_string)}),userProperties:!0}),w=new I({draw:T,buttons:[{on:"click",action:t,classes:["split-icon"]}]}),M.once("load",(function(){M.resize(),M.addControl(w,"top-right"),T.set({type:"FeatureCollection",features:[{type:"Feature",properties:{},id:"example-id",geometry:{coordinates:[[[[52,35],[53,35],[53,36],[52,36],[52,35]]],[[[50,35],[51,35],[51,36],[50,36],[50,35]],[[50.2,35.2],[50.8,35.2],[50.8,35.8],[50.2,35.8],[50.2,35.2]]]],type:"MultiPolygon"}}]}),M.on("draw.update",(function(e){console.log(e)}))}))}),[]);var t=function(){try{var e;null===(e=T)||void 0===e||e.changeMode("splitPolygonMode")}catch(t){alert(t.message),console.error(t)}};return Object(o.jsx)("div",{className:"map-wrapper",children:Object(o.jsx)("div",{id:"map",ref:e})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),r(e),a(e)}))};s.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root")),Z()}},[[51,1,2]]]);
//# sourceMappingURL=main.669d67cb.chunk.js.map